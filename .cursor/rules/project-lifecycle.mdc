---
description: Project lifecycle — completion policy and validation (canonical; ERDs link here)
alwaysApply: false
lastReviewed: 2025-10-10
healthScore:
  content: green
  usability: green
  maintenance: green
---

# Project Lifecycle — Templates, Usage, Validator, and Completion Policy

## Purpose

Standardize how projects are finalized: canonical templates, clear completion criteria, and a lightweight validator scoped to changed projects. Improves portability and keeps completion signals consistent (impact metrics, retrospective, index, archival).

## Templates (canonical)

Location: `.cursor/templates/project-lifecycle/`

- `final-summary.template.md`
- `completion-checklist.template.md`
- `retrospective.template.md`

Each template carries front matter:

```
---
template: project-lifecycle/<name>
version: 1.0.0
last-updated: YYYY-MM-DD
---
```

## Usage (canonical policy — details live here; ERDs should link to this section)

Project artifacts live under `docs/projects/<project>/`.

- Instantiate the Final Summary from the template and fill the Impact section with a brief before/after or outcome metrics.
- Provide a Retrospective (either as a dedicated `retrospective.md` or as a section within the Final Summary).
- Keep `tasks.md` current: all items checked or include a `Carryovers` section naming follow-up work.
- Update `docs/projects/README.md` to move the project to Completed and link its Final Summary.
- Consider archival when stable: `docs/projects/_archived/<YYYY>/<project>/`.

## Completion Criteria

A project is “complete” when:

1. `final-summary.md` exists, non-empty, and contains:
   - Front matter with `template` and `version`
   - An `## Impact` section
2. `tasks.md` exists and either:
   - All items are checked, or
   - A `Carryovers` section is present
3. Retrospective is present (standalone file or section in Final Summary)
4. `docs/projects/README.md` lists the project under Completed with a link to `final-summary.md`

## Validator (scoped)

Script: `.cursor/scripts/project-lifecycle-validate-scoped.sh` (alias for `.cursor/scripts/validate-project-lifecycle.sh`)

- Scope: only projects explicitly passed as args (CI should determine the set of changed projects and pass them).
- Checks per project folder:
  - `final-summary.md` exists, is non-empty, has `template` + `version` in front matter, and includes an `## Impact` section
  - `tasks.md` exists and either no unchecked boxes remain or a `Carryovers` section exists
  - `retrospective.md` exists OR Final Summary has a `## Retrospective` section
  - No `*.template.md` files live under the project folder (templates are centralized)
- Optional advisory: warn (do not fail) if the closing PR title does not start with `feat:` or a scoped equivalent.
  - Pass PR title via `--pr-title` flag or env `PR_TITLE`; remains advisory.

See also: repository sweep validator — `.cursor/scripts/project-lifecycle-validate-sweep.sh` (alias for `.cursor/scripts/project-lifecycle-validate.sh`) which validates all projects marked `status: completed` and verifies index/link presence. Use the scoped validator for per-PR changed projects; use the sweep validator for periodic repository health checks.

## Decisions

- PR title semantics: Advisory (warn), not strict fail.
- Projects index: Manual updates (simple and explicit) rather than auto-generation.

## Examples

- See `docs/projects/_archived/2025/project-lifecycle/final-summary.md` for a reference Final Summary.

## Notes

- Keep friction low; the validator should point directly to missing artifacts.
- Migration policy: Prefer `.cursor/scripts/project-lifecycle-migrate.sh` to backfill lifecycle artifacts (adds required front matter/sections and retrospective when missing). For creating a new final summary, prefer the generator (`final-summary-generate.sh`, use `--pre-move` when needed). `template-fill.sh` is acceptable only as a last-resort fallback when structure is missing and must be followed by adding required front matter/sections.

## Rule: Project Lifecycle — Completion Policy

## Purpose

Codify how projects transition to Completed without breaking links: status tagging over moves, a closure checklist, a final summary, and an index update. Provide a light validator and optional automation.
Archiving is performed via a single full-folder move; per-file archiving is prohibited.

## Scope

- Applies to all projects under `docs/projects/<name>/`.
- Completion flows are documentation-first; optional automation is additive and opt-in.

## Status Tagging Schema (ERD front matter)

```yaml
---
status: active|completed
completed: YYYY-MM-DD # required when status: completed
owner: <github-handle-or-team>
---
```

- Location: `docs/projects/<name>/erd.md` (and optionally mirrored in `tasks.md`).
- On archival, move the entire project folder under `docs/projects/_archived/<YYYY>/<name>/` in a single operation; update index links accordingly.

## Closure Checklist (Definition of Done)

- ERD front matter has `status: completed`, `completed: <date>`, and `owner`.
- All items in `docs/projects/<name>/tasks.md` are checked off OR a `Carryovers` section is present.
- Tests/lint/types pass; coverage > 0% for new/changed modules (policy-level check).
- ADRs updated/added for consequential decisions (if any).
- User-facing docs/examples updated (README/guides as applicable).
- Ownership/handoff note present (owner, next review date).

Reference templates:

- Completion: `.cursor/templates/project-lifecycle/completion-checklist.template.md`
- Archive (operational): `.cursor/templates/project-lifecycle/archive-checklist.template.md`
- Optional redirect: `.cursor/templates/project-lifecycle/archive-redirect.template.md` (use only when leaving a stub file behind is required by downstream tools; otherwise avoid extra files).

## Final Summary

- File: `final-summary.md` (location depends on timing; see below)
- Link this file from the ERD near the top.
- Template: `.cursor/templates/project-lifecycle/final-summary.template.md`.

- You may generate the summary either pre-move or post-move:

  - Pre-move: create `docs/projects/<name>/final-summary.md` using the generator's `--pre-move` flag; links will point to the archived path.
  - Post-move: create `docs/projects/_archived/<YYYY>/<name>/final-summary.md` (default generator mode).

- Required generator: use `.cursor/scripts/final-summary-generate.sh` to create/update the final summary; manual template copying/hand-edits are not allowed for initial creation.
  - Usage:
    - Pre-move: `.cursor/scripts/final-summary-generate.sh --project <slug> --year <YYYY> --pre-move [--date YYYY-MM-DD] [--force]`
    - Post-move: `.cursor/scripts/final-summary-generate.sh --project <slug> --year <YYYY> [--date YYYY-MM-DD] [--force]`
  - Behavior:
    - Title from slug (dashes → spaces, capitalized)
    - `last-updated` set to today or `--date`
    - ERD/Tasks links point to `docs/projects/_archived/<YYYY>/<slug>/`

## Projects Index Update

- Landing page: `docs/projects/README.md`
- When a project completes, move its entry from Active to Completed.
- Optional: use `project-archive-workflow.sh --verify-index` to check the Completed entry points to `_archived/<YYYY>/<name>/final-summary.md`.

## Which Script to Use (at a glance)

- Closeout in a PR (changed projects): `.cursor/scripts/project-lifecycle-validate-scoped.sh <slug>`
- Periodic repository health: `.cursor/scripts/project-lifecycle-validate.sh` (or `project-lifecycle-validate-sweep.sh` alias)
- Generate final summary:
  - Pre-move: `.cursor/scripts/final-summary-generate.sh --project <slug> --year <YYYY> --pre-move [--date YYYY-MM-DD] [--force]`
  - Post-move: `.cursor/scripts/final-summary-generate.sh --project <slug> --year <YYYY> [--date YYYY-MM-DD] [--force]`
- Full archival workflow (preferred end-to-end): `.cursor/scripts/project-archive-workflow.sh --project <slug> --year <YYYY> [--verify-index] [--dry-run]`
- Single archive move only: `.cursor/scripts/project-archive.sh --project <slug> --year <YYYY> [--dry-run]`
- Backfill legacy projects: `.cursor/scripts/project-lifecycle-migrate.sh --project <slug>`

## Validator and CLI (repository sweep)

- Script: `.cursor/scripts/project-lifecycle-validate-sweep.sh`

  - Dry-run by default. Exits non-zero when Completed projects are missing required pieces.
  - Checks (minimum):
    - ERD contains `status: completed`, `completed:`, `owner:` in front matter
    - `final-summary.md` exists
    - `docs/projects/README.md` contains a Completed link for the project

- Final summary generator (required): `.cursor/scripts/final-summary-generate.sh`

See also: scoped closeout validator — `.cursor/scripts/project-lifecycle-validate-scoped.sh` (alias for `.cursor/scripts/validate-project-lifecycle.sh`) which checks a specific set of projects changed in a PR for closeout artifacts.

- Creates/updates `final-summary.md` in the archived folder using the template and fills title/date/links.
- Safe by default: refuses to overwrite unless `--force` is provided.

## PR Title Guidance

- Prefer Conventional Commit when closing a project so it lands in `CHANGELOG.md`:
  - `feat: Finalize <Project Name>` (or `feat(projects): finalize <name>`)
  - If the closing PR is purely docs, `docs: finalize <Project Name>` is acceptable.

## Acceptance Criteria

- Any project flipped to Completed includes required ERD fields and a final summary, and appears under Completed in `docs/projects/README.md`.
- The checklist template and summary template are referenced from the ERD.
- The validator script reports failures clearly and exits non-zero when requirements are unmet.
- Final summary is generated via `.cursor/scripts/final-summary-generate.sh` (not manually copied/edited for initial creation).

## Notes

- Policy Ping (preflight): Archiving uses a single full-folder move. Do not move files individually. Destination: `docs/projects/_archived/<YYYY>/<name>`. Update links/index accordingly.
- External links are out of scope; only internal links must remain valid. Use the validator to detect/fix internal link issues post-move.
- Prefer manual, explicit updates first; automation may be added later.

## Rollout

- Owner: rules-maintainers
- Start manual; optionally add a CI job to run the validator in dry-run mode on PRs that change project docs.

## Archival Move Procedure (Move Last)

1. Confirm project is Completed and stable.
2. Ensure a final summary exists using one of:
   - Pre-move: `.cursor/scripts/final-summary-generate.sh --project <project> --year <YYYY> --pre-move` (writes to `docs/projects/<project>/final-summary.md`)
   - Post-move: after step 3, run `.cursor/scripts/final-summary-generate.sh --project <project> --year <YYYY>` (writes to archived folder)
     In both cases, add a link near the top of the ERD.
3. Archive using the helper (preferred): `.cursor/scripts/project-archive.sh --project <project> --year <YYYY> [--dry-run]` — or perform a single full‑folder move with `git mv docs/projects/<project> docs/projects/_archived/<YYYY>/<project>` (policy: single operation only).
4. Run `.cursor/scripts/rules-validate.sh` and `.cursor/scripts/links-check.sh --path docs/projects/_archived/<YYYY>/<project>`; fix any reported issues.
5. Update `docs/projects/README.md` Completed section to point to the archived path.
6. Prefer a Conventional Commit title noting the archival (e.g., `docs(projects): archive <name>`).
